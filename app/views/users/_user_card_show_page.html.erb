<div class="user-card-show-page text-decoration-none">
  <!-- using bootstrap grid -->
  <div class="avatar-and-username-and-follow-counts-and-follow-or-bookmarks-button row">

    <%= link_to user_path(user), class: "col-3" do %>
      <%= image_tag user.avatar, class: 'avatar-xl' %>
    <% end %>
    <div class="username-and-follow-counts col-6">
      <div class="username-and-conditional-follow-button">
        <%= link_to user_path(user) do %>
          <h5><%= user.username %></h5>
        <% end %>
        <%# small follow button appearing only in the follows page %>
        <% if local_assigns[:current_user_followers_tab] && !current_user.is_following?(user) %>
          <%= button_to 'follow', follow_user_path(user), method: :post, class: "small-follow-button" %>
        <% elsif local_assigns[:current_user_followed_tab] && user.is_following?(current_user) %>
          <div class="small-follow-button">
            follows you
          </div>
        <% end %>
      </div>
      <div class="follow-counts">
        <p class="followers-count small"><span class="bold-text"><%= user.followers.count %></span> followers</p>
        <p class="following-count small"><span class="bold-text"><%= user.followed.count %></span> following</p>
      </div>
    </div>

    <%# Defining which button to appear (follow, unfollow, remove follower, or followed (the latter serves the same function as remove follower but just discourages the negative action of unfollowing).
    The unfollow nad remove follow buttons only appear on the follow page of current_user, in the followed and following tabs respectively%>
    <div class="follow-or-bookmarks-button col-3">
      <% if local_assigns[:current_user_followers_tab] %>
        <%= button_to 'Remove', remove_follower_user_path(user), method: :post, class: "btn btn-main" %>
      <% elsif local_assigns[:current_user_followed_tab] %>
        <%= button_to 'Unfollow', unfollow_user_path(user), method: :post, class: "btn btn-main" %>
      <% elsif current_user.is_following?(user.id) %>
        <%= button_to 'Followed', unfollow_user_path(user), method: :post, class: "btn btn-main" %>
      <% elsif user.is_following?(current_user.id) %>
        <%= button_to 'Follow Back', follow_user_path(user), method: :post, class: "btn btn-pink" %>
      <% elsif !user == current_user %>
        <%= button_to 'Follow', follow_user_path(user), method: :post, class: "btn btn-pink" %>
      <% else %>
      <div class="bookmarks-button">
        <%= link_to bookmarks_path do%>
          <i class="fa-sharp fa-light fa-book-bookmark fa-2xl"></i>
        <% end %>
      </div>

      <% end %>
    </div>
  </div>


  <!-- End of bootstrap grid -->
  <div class="intro">Entrepreneur & biohacker  | life extension-freak bestselling author. SG resident. Proud Dad of 4. Owner of BioTECH Ltd. in Australia.
  </div>
  <div class="followed-by-avatars-and-text">
    <div class="avatars">
    </div>
    <p class="followed-by-text small">
      Followed by John, Carry, Xing Gusti
    </p>
  </div>

</div>
