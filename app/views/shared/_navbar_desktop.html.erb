<div class="navbar-desktop">
  <%= image_tag "https://res.cloudinary.com/dncij7vr6/image/upload/v1686124155/Favolist%204.0/app%20assets/favolist_logo_dftbgl.svg", alt: "Favolist Logo", class: "navbar-logo-desktop" %>
  <div class="nav-items text-decoration-none">

    <% if user_signed_in? %>
      <%= link_to user_path(current_user), class: "side-nav-item" do %>
        <i class="fa-sharp fa-solid fa-user"></i>
        <div class="paragraph-large-regular">Profile</div>
      <% end %>
    <% end %>


    <% if user_signed_in? %>
      <div class="side-nav-item" data-bs-toggle="modal" data-bs-target="#exampleModal">
        <i class="fa-sharp fa-solid fa-square-plus"></i>
        <div class="paragraph-large-regular">Add</div>
      </div>
    <% end %>


    <%= link_to root_path, class: "side-nav-item" do %>
      <i class="fa-sharp fa-solid fa-house"></i>
      <div class="paragraph-large-regular">Home</div>
    <% end %>

    <%= link_to creators_path, class: "side-nav-item" do %>
      <i class="fa-sharp fa-solid fa-star"></i>
      <div class="paragraph-large-regular">Creators</div>
    <% end %>

    <%= link_to search_path, class: "side-nav-item" do %>
      <i class="fa-sharp fa-solid fa-magnifying-glass"></i>
      <div class="paragraph-large-regular">Search</div>
    <% end %>



    <% if user_signed_in? %>
      <%= link_to profile_settings_path, class: "side-nav-item" do %>
      <i class="fa-sharp fa-solid fa-gear"></i>
        <div class="paragraph-large-regular">Settings</div>
      <% end %>
    <% end %>



<% if user_signed_in? %>
  <%= link_to notifications_path, class: "side-nav-item" do %>
    <i class="fa-sharp fa-solid fa-bell"></i>
    <div class="paragraph-large-regular">
      <div class="notification-label">
        Notifications
        <% if @unread_notifications_count > 0 %>
          <span class="notification-count"><%= @unread_notifications_count %></span>
        <% end %>
      </div>
    </div>
  <% end %>
<% end %>



  <%= link_to about_path, class: "side-nav-item" do %>
    <i class="fa-sharp fa-solid fa-circle-info"></i>
    <div class="paragraph-large-regular">About</div>
  <% end %>

  <%= link_to beta_path, class: "side-nav-item" do %>
    <i class="fa-sharp fa-flask-vial"></i>
    <div class="paragraph-large-regular">Beta</div>
  <% end %>

  <% if !user_signed_in? %>
    <%= link_to new_user_session_path, class: "btn btn-primary", style: "color: white; width: 100%;" do%>
      <div class="paragraph-large-regular">Sign in</div>
    <% end %>
  <% end %>


  </div>
</div>


<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" data-controller="hidemodal">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">What do you want to add?</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
        <%# // to achieve a gap between the buttons on the modal I set a mb-1 %>

        <% if current_user && current_user.lists.present?%>
          <div class="modal-body custom-modal-body ">
            <%= link_to search_or_manual_product_upload_path, class: "button button-tertiary w-100 mb-3" do %>
              <i class="fa-sharp fa-light fa-square"></i>Physical product
            <% end %>
            <%= link_to search_or_manual_app_upload_path, class: "button button-tertiary w-100 mb-3" do %>
              <i class="fa-sharp fa-light fa-square"></i>Mobile app or digital product
            <% end %>
            <%= link_to new_list_path, class: "button button-tertiary w-100" do %>
              <i class="fa-sharp fa-light fa-table-cells"></i>List
            <% end %>
          </div>
        <% else %>
          <div class="modal-body custom-modal-body ">
            <%= link_to '#', class: "button button-tertiary w-100 mb-3 disabled", aria_disabled: true do %>
              <i class="fa-sharp fa-light fa-square"></i>Pysical product (create a list first)
            <% end %>
            <%= link_to search_or_manual_app_upload_path, class: "button button-tertiary w-100 mb-3 disabled", aria_disabled: true do %>
              <i class="fa-sharp fa-light fa-square"></i>Mobile app or digital product
            <% end %>
            <%= link_to new_list_path, class: "button button-tertiary w-100" do %>
              <i class="fa-sharp fa-light fa-table-cells"></i>List
            <% end %>
          </div>
        <% end %>

    </div>
  </div>
</div>
