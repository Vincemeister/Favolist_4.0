<div class="settings-desktop-grid">
  <div class="settings-menu">
    <%= render 'shared/settings_menu' %>
  </div>
  <div class="settings-container">
    <h2>Profile</h2>
    <%= simple_form_for @user, url: update_profile_settings_path, method: :patch, html: { multipart: true } do |f| %>
      <div class="avatar-settings" data-controller="avatar-preview">
        <div class="form-group">
          <% if @user.avatar.attached? %>
            <%= image_tag @user.avatar, class: 'avatar-xxl form-group-container', id: 'img-preview' %>
          <% else %>
            <img id='img-preview' class="avatar-xl" src="#" alt="No image" />
          <% end %>
        </div>

        <div class="form-group">
          <%= f.file_field :avatar, data: { "avatar-preview-target": "input", action: "avatar-preview#preview" } %>
        </div>
      </div>
      <%= f.input :username, label: 'Username' %>
      <div class="form-group form-group-container">
        <%= f.label :bio %>
        <%= f.text_area :bio, class: 'form-control' %>
      </div>

      <%= f.button :submit, 'Update Profile', class: 'button button-primary' %>
    <% end %>
  </div>
</div>
